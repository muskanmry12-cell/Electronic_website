<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Your Cart</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="style.css">
<style>
.cart-container{max-width:900px;margin:20px auto;background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.2);}
.cart-item{display:flex;align-items:center;justify-content:space-between;padding:10px;border-bottom:1px solid #ddd;}
.cart-item img{width:80px;height:80px;object-fit:cover;border-radius:6px;}
.cart-item-details{flex:1;margin-left:15px;}
.cart-item-details h3{font-weight:600;}
.cart-item-details p{color:#16a34a;font-weight:600;}
.cart-item button{padding:5px 10px;background:#ef4444;color:white;border:none;border-radius:4px;cursor:pointer;}
.cart-item button:hover{background:#b91c1c;}
.total{text-align:right;font-size:1.25rem;font-weight:600;margin-top:10px;}
</style>
</head>
<body class="bg-gray-100">

<header class="bg-blue-600 text-white p-4 flex justify-between items-center">
<h1 class="text-2xl font-bold cursor-pointer" onclick="window.location.href='index.html'">Elec-Mart</h1>
<div class="cart cursor-pointer" onclick="window.location.href='cart.html'">ðŸ›’ <span id="cartCount">0</span></div>
</header>

<main>
<section class="cart-container">
<h2 class="text-xl font-semibold mb-4">Your Shopping Cart</h2>
<div id="cartItems"></div>
<div class="total" id="cartTotal">Total: â‚¹0</div>
</section>
</main>

<script src="products.js"></script>
<script>
function updateCartCount(){
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  document.querySelector('.cart span').innerText = cart.length;
}
updateCartCount();

function renderCart(){
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  const container = document.getElementById('cartItems');
  container.innerHTML = '';
  let total = 0;

  cart.forEach((item,index)=>{
    total += item.price;
    const div = document.createElement('div');
    div.className = 'cart-item';
    div.innerHTML = `
      <img src="${item.images[0]}" alt="${item.name}">
      <div class="cart-item-details">
        <h3>${item.name}</h3>
        <p>â‚¹${item.price}</p>
      </div>
      <button onclick="removeItem(${index})">Remove</button>
    `;
    container.appendChild(div);
  });

  document.getElementById('cartTotal').innerText = `Total: â‚¹${total}`;
}

function removeItem(index){
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  cart.splice(index,1);
  localStorage.setItem('cart',JSON.stringify(cart));
  renderCart();
  updateCartCount();
}

// Initial render
renderCart();
</script>
</body>
</html>
